<!doctype html>
<html>
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes" />
<title>Save state of checkbox on refresh using JavaScript</title>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<link href="css/custom.css" rel="stylesheet" />
<style type="text/css">
</style>
</head>

 
<script src="http://code.jquery.com/jquery.js"></script>
<!-- This JavaScript file is required to load the XpressDox interview as well as the code required to run it -->
 
<script>
// Avoid scoping issues by encapsulating code inside anonymous function
(function() {
  // variable to store our current state
  var cbstate;
  
  // bind to the onload event
  window.addEventListener('load', function() {
    // Get the current state from localstorage
    // State is stored as a JSON string
    cbstate = JSON.parse(localStorage['CBState'] || '{}');
  
    // Loop through state array and restore checked 
    // state for matching elements
    for(var i in cbstate) {
      var el = document.querySelector('input[name="' + i + '"]');
      if (el) el.checked = true;
    }
  
    // Get all checkboxes that you want to monitor state for
    var cb = document.getElementsByClassName('save-cb-state');
  
    // Loop through results and ...
    for(var i = 0; i < cb.length; i++) {
  
      //bind click event handler
      cb[i].addEventListener('click', function(evt) {
        // If checkboxe is checked then save to state
        if (this.checked) {
          cbstate[this.name] = true;
        }
    
    // Else remove from state
        else if (cbstate[this.name]) {
          delete cbstate[this.name];
        }
    
    // Persist state
        localStorage.CBState = JSON.stringify(cbstate);
      });
    }
  });
})();
</script>
</body>
</html>




<body>

    <div class="bg"></div>

    <br />

        <div class="col-10 offset-1">
          <br /><br />
          <div class="booyah-box">
            <br />
            <h1 class="text-center">Countdown to The Bourbon Chase 2018</h1>
            <h1 class="text-center" id="demo"></h1>
            <br />
          </div>
        </div>
        <br />

            <script>
            // Set the date we're counting down to
            var countDownDate = new Date("Oct 12, 2018 10:45:00").getTime();

            // Update the count down every 1 second
            var x = setInterval(function() {

                // Get todays date and time
                var now = new Date().getTime();
                
                // Find the distance between now and the count down date
                var distance = countDownDate - now;
                
                // Time calculations for days, hours, minutes and seconds
                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                // Output the result in an element with id="demo"
                document.getElementById("demo").innerHTML = days + "d " + hours + "h "
                + minutes + "m " + seconds + "s ";
                
                // If the count down is over, write some text 
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("demo").innerHTML = "EXPIRED";
                }
            }, 1000);
            </script>

    <div class="col-10 offset-1">
      <div class="row text-center">
        
        <div class="col-12 col-sm">
          <div class="booyah-box">
            <div class="booyah-box">
              <br />
              <h1>Van #1</h1>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Carrie</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox1" value="yes"> Leg 1</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox13" value="yes"> Leg 13</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox25" value="yes"> Leg 25</div>
              </div>
              <div class="row">
                <div class="col-sm-4">7.1 Miles</div>
                <div class="col-sm-4">4.5 Miles</div>
                <div class="col-sm-4">3.4 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 8, D</div>
                <div class="col-sm-4">Rank 29, E</div>
                <div class="col-sm-4">Rank 35, E</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Open</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox2" value="yes"> Leg 2</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox14" value="yes"> Leg 14</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox26" value="yes"> Leg 26</div>
              </div>
              <div class="row">
                <div class="col-sm-4">7.4 Miles</div>
                <div class="col-sm-4">6.6 Miles</div>
                <div class="col-sm-4">7.7 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 6, M</div>
                <div class="col-sm-4">Rank 11, D</div>
                <div class="col-sm-4">Rank 4, D</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Tammy</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox3" value="yes"> Leg 3</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox15" value="yes"> Leg 15</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox27" value="yes"> Leg 27</div>
              </div>
              <div class="row">
                <div class="col-sm-4">3.6 Miles</div>
                <div class="col-sm-4">3.2 Miles</div>
                <div class="col-sm-4">5.3 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 33, E</div>
                <div class="col-sm-4">Rank 36, E</div>
                <div class="col-sm-4">Rank 19, M</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Adam</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox4" value="yes"> Leg 4</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox16" value="yes"> Leg 16</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox28" value="yes"> Leg 28</div>
              </div>
              <div class="row">
                <div class="col-sm-4">5.2 Miles</div>
                <div class="col-sm-4">6.6 Miles</div>
                <div class="col-sm-4">3.8 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 20, D</div>
                <div class="col-sm-4">Rank 10, M</div>
                <div class="col-sm-4">Rank 32, E</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Brandon</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox5" value="yes"> Leg 5</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox17" value="yes"> Leg 17</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox29" value="yes"> Leg 29</div>
              </div>
              <div class="row">
                <div class="col-sm-4">4.6 Miles</div>
                <div class="col-sm-4">5.5 Miles</div>
                <div class="col-sm-4">7.6 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 28, D</div>
                <div class="col-sm-4">Rank 17, M</div>
                <div class="col-sm-4">Rank 5, D</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Ashley</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox6" value="yes"> Leg 6</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox18" value="yes"> Leg 18</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox30" value="yes"> Leg 30</div>
              </div>
              <div class="row">
                <div class="col-sm-4">6.2 Miles</div>
                <div class="col-sm-4">6.2 Miles</div>
                <div class="col-sm-4">5 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 13, M</div>
                <div class="col-sm-4">Rank 14, M</div>
                <div class="col-sm-4">Rank 22, D</div>
              </div>
              <br />
            </div>
          </div>
        </div>

        <div class="col-12 col-sm">
          <div class="booyah-box">
            <div class="booyah-box">
              <br />
              <h1>Van #2</h1>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Steph</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox7" value="yes"> Leg 7</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox19" value="yes"> Leg 19</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox31" value="yes"> Leg 31</div>
              </div>
              <div class="row">
                <div class="col-sm-4">4.9 Miles</div>
                <div class="col-sm-4">3.5 Miles</div>
                <div class="col-sm-4">4.6 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 24, M</div>
                <div class="col-sm-4">Rank 34, E</div>
                <div class="col-sm-4">Rank 28, M</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Alex</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox8" value="yes"> Leg 8</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox20" value="yes"> Leg 20</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox32" value="yes"> Leg 32</div>
              </div>
              <div class="row">
                <div class="col-sm-4">4.8 Miles</div>
                <div class="col-sm-4">5.7 Miles</div>
                <div class="col-sm-4">8.4 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 25, D</div>
                <div class="col-sm-4">Rank 16, M</div>
                <div class="col-sm-4">Rank 3, D</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Anna</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox9" value="yes"> Leg 9</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox21" value="yes"> Leg 21</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox33" value="yes"> Leg 33</div>
              </div>
              <div class="row">
                <div class="col-sm-4">8.9 Miles</div>
                <div class="col-sm-4">5.1 Miles</div>
                <div class="col-sm-4">4.6 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 1, D</div>
                <div class="col-sm-4">Rank 21, M</div>
                <div class="col-sm-4">Rank 26, E</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Blaike</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox10" value="yes"> Leg 10</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox22" value="yes"> Leg 22</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox34" value="yes"> Leg 34</div>
              </div>
              <div class="row">
                <div class="col-sm-4">7.2 Miles</div>
                <div class="col-sm-4">5.4 Miles</div>
                <div class="col-sm-4">6.7 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 7, D</div>
                <div class="col-sm-4">Rank 18, M</div>
                <div class="col-sm-4">Rank 9, M</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Kaitlyn</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox11" value="yes"> Leg 11</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox23" value="yes"> Leg 23</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox35" value="yes"> Leg 35</div>
              </div>
              <div class="row">
                <div class="col-sm-4">6.3 Miles</div>
                <div class="col-sm-4">4.3 Miles</div>
                <div class="col-sm-4">4 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 12, M</div>
                <div class="col-sm-4">Rank 30, E</div>
                <div class="col-sm-4">Rank 31, E</div>
              </div>
              <br />
            </div>
            <div class="booyah-box">
              <br />
              <h3>Dale</h3>
              <hr />
              <div class="row">
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox12" value="yes"> Leg 12</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox24" value="yes"> Leg 24</div>
                <div class="col-sm-4"><input type="checkbox" class="save-cb-state" name="mycheckbox36" value="yes"> Leg 36</div>
              </div>
              <div class="row">
                <div class="col-sm-4">5.8 Miles</div>
                <div class="col-sm-4">8.7 Miles</div>
                <div class="col-sm-4">4.9 Miles</div>
              </div>
              <div class="row">
                <div class="col-sm-4">Rank 15, E</div>
                <div class="col-sm-4">Rank 2, D</div>
                <div class="col-sm-4">Rank 24, E</div>
              </div>
              <br />
            </div>
          </div>
        </div>
        <br /><br />

      </div>
    </div>

</body>

